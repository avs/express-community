<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
   <meta name="Author" content="Ian Curington">
   <title>ReplaceAlpha - replaces the alpha channel of an ARGB image with scalar byte data</title>
</head>


<body bgcolor="#92BFBF">

<h1>ReplaceAlpha</h1>

<h3>Synopsis</h3>

<blockquote>
The replace_alpha module performs an image filter operation, replacing the alpha channel of a full-color byte image with another set of scalar byte data.
</blockquote>

<blockquote>
<h4>Input Ports</h4>

<table summary="Input Ports used by replace_alpha">

<tr>
<td width="100"><font size="-1"><b>Name</b></font></td>
<td width="75"><font size="-1"><b>Type</b></font></td>
<td width="425"><font size="-1"><b>Description</b></font></td>
</tr>

<tr>
<td colspan="4"><hr></td>
</tr>

<tr>
<td width="100"><i>in</i></td>
<td width="75">Image_ARGB</td>
<td width="425">original full colour image</td>
</tr>

<tr>
<td width="100"><i>alpha</i></td>
<td width="75">Image</td>
<td width="425">replacement alpha image</td>
</tr>

<tr>
<td colspan="4"><hr></td>
</tr>

</table>

<h4>Output Ports</h4>

<table summary="Output Ports used by replace_alpha">

<tr>
<td width="100"><font size="-1"><b>Name</b></font></td>
<td width="75"><font size="-1"><b>Type</b></font></td>
<td width="425"><font size="-1"><b>Description</b></font></td>
</tr>

<tr>
<td colspan="4"><hr></td>
</tr>

<tr>
<td width="100"><i>out_image</i></td>
<td width="75">Image_ARGB</td>
<td width="425">new image with altered alpha channel</td>
</tr>

<tr>
<td width="100"><i>out_obj</i></td>
<td width="75">GDobject</td>
<td width="425">Directly renderable output object</td>
</tr>

<tr>
<td colspan="4"><hr></td>
</tr>

</table>

</blockquote>

<h3>Description</h3>

<blockquote>
<p>The replace_alpha module modifies an full colour AVS image by replacing the original alpha channel data in the image with byte data from a monochrome image.  The module does not alter the Red, Green or Blue channels of the image in any way.  The module checks that both input images are of the same size.  If they are not an error is raised and no processing is performed.  The module is a conversion of the AVS5 "replace_alpha" module.  The low-level code has been implemented in C++ and operates on simple byte arrays rather than fields.</p>

<p>The replace_alpha module can be used for a variety of purposes.  For instance, the alpha channel of one full colour image could be applied to another full colour image by using the <tt>extract_scalar</tt> module to create a monochrome image that could be feed into the replace_alpha module.  The replace_alpha module could also be used as the basis of other image processing modules.</p>
</blockquote>


<h3>Inputs</h3>

<blockquote><b><i>in : Image_ARGB</i></b></blockquote>

<blockquote>The original full colour image that should have its alpha channel data replaced.  The data should be a 2D uniform field containing a single component of node data.  That node data should contain a vector of 4 byte values.  These correspond to the 4 colour channels; alpha, red, green and blue.  The read_image module outputs data of this form.</blockquote>

<blockquote><b><i>alpha : Image</i></b></blockquote>

<blockquote>The monochrome image that should be used to replace the alpha channel data in the original image.  The data should be a 2D uniform field containing a single component of node data.  That node data should contain a single scalar byte of data.  Suitable data can be generated by using the extract_scalar module to extract a single channel from a full colour image.</blockquote>


<h3>Outputs</h3>

<blockquote><b><i>out_image : Image_ARGB</i></b></blockquote>

<blockquote>The output full colour image containing alpha data from the monochrome image input and colour data from the original full colour input.  The image is output as a 2D uniform field containing a single component of node data.  That node data contains a vector of 4 bytes.</blockquote>

<blockquote><b><i>out_obj</i></b></blockquote>

<blockquote>The GDobject version of the output, suitable for direct connection
to the viewer.</blockquote>


<h3>Utility Macros</h3>

<blockquote>The replace_alpha user macro uses the low-level ReplaceAlphaCore module.  This module contains all the C++ code used by the project.  No User Interface macro is necessary for this project.</blockquote>

<h3>Example</h3>

<blockquote>
The ReplaceAlphaEg example application is provided with this project.  This application reads the mandrill.x image supplied with AVS/Express and extracts a single channel from it.  This channel is feed through a clamp module and then used by the replace_alpha module to replace the alpha channel information in the original mandrill image.  Finally a second extract_scalar module is used to extract the alpha channel from the new image and display it.  By altering the parameters of the clamp module it can be clearly seen that the original alpha channel data is being replaced.</blockquote>


<h3>Files</h3>

<blockquote>
<p><i>xp_comm_proj/repalpha/ramods.v</i> contains the V definition of the ReplaceAlphaCore module.</p>

<p><i>xp_comm_proj/repalpha/ramacs.v</i> contains the V definitions of the replace_alpha user macro and the ReplaceAlphaEg example application.</p>
</blockquote>


<h3>Other Notes</h3>

<blockquote>The low-level ReplaceAlphaMods library containing the module does
not specify a process. By default the <tt>express</tt> process will be
used.</blockquote>


<h3>
Authors</h3>

<blockquote>
<pre>
Sabreen Vig, Ian Curington, Larry Gelberg
Advanced Visual Systems, Inc.

Andrew Dodd, International AVS Centre
</pre>
</blockquote>


<h3>See Also</h3>

<blockquote>
See the AVS5 replace_alpha module, from which this one is derived.
</blockquote>

</body>
</html>

