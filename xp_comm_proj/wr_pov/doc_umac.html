<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.5 [en] (Win98; I) [Netscape]">
   <title>write_pov, write_pov_GD, write_pov_ARR</title>
</head>
<body bgcolor="#92BFBF">

<h1>write_pov, write_pov_GD, write_pov_ARR</h1>

<h3>Synopsis</h3>

<blockquote>
Writes the contents of a field, a Graphic Display object (red renderable
port) or a group of Graphic Display objects to a POVray version 3.1 file.
</blockquote>


<blockquote>
<h4>Input Ports</h4>

<table summary="Input Ports used by write_pov, write_pov_GD, write_pov_ARR">

<tr>
<td width="75"><font size="-1"><b>User Macro</b></font></td>
<td width="100"><font size="-1"><b>Name</b></font></td>
<td width="75"><font size="-1"><b>Type</b></font></td>
<td width="425"><font size="-1"><b>Description</b></font></td>
</tr>

<tr>
<td colspan="4"><hr></td>
</tr>

<tr>
<td width="75">write_pov</td>
<td width="100"><i>in_fld</i></td>
<td width="75">Mesh+Cell_Set</td>
<td width="425">single set of field data</td>
</tr>

<tr>
<td width="75">write_pov_GD</td>
<td width="100"><i>obj</i></td>
<td width="75">GD Object</td>
<td width="425">single Graphic Display Object</td>
</tr>

<tr>
<td width="75">write_pov_ARR</td>
<td width="100"><i>top_obj</i></td>
<td width="75">GroupObject</td>
<td width="425">group of Graphic Display Objects</td>
</tr>

<tr>
<td colspan="4"><hr></td>
</tr>

</table>

</blockquote>


<h3>Description</h3>

<blockquote>
These user macros all write data to POVray format files.  The exact purpose of each of these three macros is described below:
</blockquote>

<ul>
<li>
<b><i>write_pov:</i></b> This macro writes a single set of field data to a POV file. Both of the other user macros are derived from this macro.
</li>
<li>
<b><i>write_pov_GD:</i></b> This macro writes a single Graphic Display object (red renderable port) to a POV file.
</li>
<li>
<b><i>write_pov_ARR:</i></b> This macro writes a GroupObject (red renderable port) to a POV file. GroupObjects are generated by the ARR library modules and represent an array of separate fields. They are written to the POV file as separate union blocks.
</li>
</ul>


<blockquote>
These macros parse the appropriate input and then create an ASCII 
POV output file containing the Cell_Sets of certain 2D elements. The current 
implementation outputs triangle, quad, line, polyline and polytristrip 
cell sets. The module takes cell mesh topology from the input field structure 
and writes this data out to the POV file in a format suitable for processing by 
the POVray ray tracing software package.
</blockquote>

<blockquote>
The POVray software system is a ray-trace based rendering system for
high quality image production and animation. The system is available on most 
common platforms. The POVray system is free, as long as the stated conditions 
are met. Full source code is also available for extension or ray tracing 
research. POVray software and further information can be obtained
from: <a href="http://www.povray.org">http://www.povray.org</a>
</blockquote>

<blockquote>
The write_pov macro contains no source code from POVray, and does
not need any of the POVray software available for module compilation or use. The
POVray software is required for processing and rendering the output file. The 
files generated by this module are compatible with version 3.1 of POVray. They
may also work with previous versions; however this has not been tested.
</blockquote>

<blockquote>
It should be noted that the generated POV files will require a certain amount of 
manual editing before they can be correctly rendered. Data about camera and 
light positions is stored in View and Scene objects. The macros take field data 
as a direct or indirect input and therefore cannot access this data. Sample data 
is written to the output file. Before the POV file can be rendered the camera 
and light positions will have to be altered so that they are appropriate for the 
scene.
</blockquote>

<blockquote>
The cell-set boundaries are preserved in the POV file format, and union
blocks separate each field. Node data is ignored and only mesh geometry is
passed to the file. This is done as the POVray system does not appear to allow 
per-node color values. Lines are defined as thin cylinders.
</blockquote>


<h3>Inputs</h3>

<blockquote>
Note that each of the user macros has a different input port.
</blockquote>

<blockquote>
<b><i>in_fld</i></b> - <i>write_pov</i>
</blockquote>

<blockquote>
Reference to a set of field data that should be written to the POV file.  The field data should consist of Mesh and Cell_Set. Node data is not written to the
output file.
</blockquote>

<blockquote>
<b><i>obj</i></b> - <i>write_pov_GD</i>
</blockquote>

<blockquote>
Reference to a Graphic Display object (red renderable port) that should be written to the POV file.  The field data to be written is extracted from the supplied Graphic Display object.
</blockquote>

<blockquote>
<b><i>top_obj</i></b> - <i>write_pov_ARR</i>
</blockquote>

<blockquote>
Reference to a GroupObject (red renderable port) that should be written to the POV file.  The GroupObject should contain a number of child Graphic Display objects.  These are output as separate union blocks in the POV file.  GroupObjects are generated by ARR library modules.  They can also be created
manually.
</blockquote>


<h3>Outputs</h3>

<blockquote>
<b><i>(none)</i></b>
</blockquote>


<h3>Utility Modules</h3>

<blockquote>
The User Macro write_pov uses the low-level module WritePovCore and the UI macro 
WritePovUI.  As both of the other User Macros are derived from the write_pov 
macro they also make use of these components.
</blockquote>


<h3>Example</h3>

<blockquote>
Two example applications are provided. WritePovEg demonstrates the use of the 
write_pov user macro by generating an isosurface and writing that isosurface to 
a file. WritePovArrEg demonstrates the use of the write_pov_ARR user macro by 
loading a multiblock set of data and generating a series of visualizations. The 
isosurface can then be written to a file. If the resultant file is examined then 
it is apparent that the isosurface is written out in several chunks, one per 
block of data.
</blockquote>

<h3>Files</h3>

<blockquote>
<i>xp_comm_proj/wr_pov/wpovmacs.v</i> contains the V definitions of the write_pov, write_pov_GD and write_pov_ARR User Macros, the WritePovUI UI Macro, and the example applications WritePovEg and WritePovArrEg.
</blockquote>


<h3>Other Notes</h3>

<blockquote>
The WritePovMacs library inherits its process. As this library contains
no procedural code, the process is not important.
</blockquote>


<h3>Author</h3>

<blockquote>
<pre>
Ian Curington
Advanced Visual Systems, Ltd.
Hanworth Lane, Chertsey Surrey, UK
KT16 9JX

<a HREF="mailto:ianc@avs.com">ianc@avs.com</a>
</pre>
</blockquote>

<h3>See Also</h3>

<blockquote>
<a href="doc_mod.html">WritePovCore</a>, WritePovUI, WritePovEg, WritePovArrEg, 
Write VGF, Write STL
</blockquote>

</body>
</html>

