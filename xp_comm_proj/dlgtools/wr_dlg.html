<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
   <title>write_dlg - Writes DLG (.dlg) format files.</title>
</head>
<body bgcolor="#92BFBF">

<h1>write_dlg</h1>

<h3>WARNING</h3>

<blockquote>
The write_dlg user macro and associated modules do not currently work correctly.  The DLG files written by this macro cannot be read by the <a href="rd_dlg.html">read_dlg</a> macro or by other external software.  The source code to this module is provided so that if user wishes they can attempt to correct this problem.  However by default all the data output components contained in this project have been disabled and should not be used.
</blockquote>



<h3>Synopsis</h3>

<blockquote>The write_dlg user macro takes a group structure as input and writes DLG (.dlg) format files that contain this data.</blockquote>


<blockquote>
<h4>Input Ports</h4>

<table summary="Input Ports provided by write_dlg">

<tr>
<td width="100"><font size="-1"><b>Name</b></font></td>
<td width="75"><font size="-1"><b>Type</b></font></td>
<td width="425"><font size="-1"><b>Description</b></font></td>
</tr>

<tr>
<td colspan="4"><hr></td>
</tr>

<tr>
<td width="100"><i>in</i></td>
<td width="75">DlgData</td>
<td width="425">group representing the DLG data to be written.</td>
</tr>

<tr>
<td colspan="4"><hr></td>
</tr>
</table>


<h4>Parameters</h4>

<table summary="Parameters used by write_dlg">

<tr>
<td width="100"><font size="-1"><b>Name</b></font></td>
<td width="75"><font size="-1"><b>Type</b></font></td>
<td width="300"><font size="-1"><b>Description</b></font></td>
<td width="125"><font size="-1"><b>UI Control</b></font></td>
</tr>
<tr>
<td colspan="4"><hr></td>
</tr>

<tr>
<td width="100"><i>filename</i></td>
<td width="75">string</td>
<td width="300">Name of the DLG file to be written.</td>
<td width="125">File Dialog</td>
</tr>

<tr>
<td colspan="4"><hr></td>
</tr>
</table>
</blockquote>


<h3>Description</h3>

<blockquote>
<p>The write_dlg user macro writes DLG data files.  DLG is a digital line graph system for the storage of vector GIS data.  A DLG file specifies areas and shapes. The writer module takes a DlgData group structure, parses the data contained in this group and writes a DLG file that contains this data.  The DLG file that is written is in ASCII format.</p>

<p>The DlgData group structure is output by the <a href="rd_dlg.html">read_dlg</a> user macro.  None of the other macros provided with this project alter the DlgData structure.  Therefore unless the user alters the DlgData structure themselves the output DLG file will contain the same data as the input DLG file.</p>

<p>The United States Geological Survey (USGS) Digital Line Graph
(DLG) format stores line map information in a digital form. DLG files
include information on planimetric base categories, such as
transportation, hydrography, and boundaries.  More information on Digital Line Graph data can be found on the <a href="http://edcwww.cr.usgs.gov/nsdi/gendlg.htm">DLG</a> Geospatial Data clearing-house page.  You can also look at the Digital Line Graph <a href="http://rockyweb.cr.usgs.gov/nmpstds/dlgstds.html">standard</a>.</p>
</blockquote>


<h3>Inputs</h3>

<blockquote><b><i>in</i></b></blockquote>

<blockquote>A custom group of DlgData type representing the data that should be written to the DLG file.</blockquote>


<h3>Parameters</h3>

<blockquote><b><i>filename</i></b></blockquote>

<blockquote>
String parameter that contains the name of the DLG file that should be written to.  The filename can either by relative or absolute and it can contain AVS/Express environment variables (i.e. $XP_ROOT, $XP_PATH&lt;1&gt;).
</blockquote>


<h3>Utility Macros</h3>

<blockquote>
The functional macro WriteDlgFunc uses the low-level module WriteDlgCore. This functional macro and the WriteDlgUI user interface macro are used by the write_dlg user macro.  None of these macros uses a parameter block.
</blockquote>


<h3>Example</h3>

<blockquote>
The project includes the DlgTookitEg example application that demonstrates how the three user macros can be used.  The <a href="rd_dlg.html">read_dlg</a> macro is used to read a sample DLG file.  An example DLG file containing the boundaries of Florida is included.  The <a href="outl_dlg.html">outline_dlg</a> macro is used to convert the read data into field data that can then be displayed on a 2D viewer.  Finally the <a href="wr_dlg.html">write_dlg</a> macro can be used to write the DLG data back to a file.
</blockquote>


<h3>Files</h3>

<blockquote>
<p><i>xp_comm_proj/dlgtools/write/wr_mods.v</i> contains the V definition of the WriteDlgCore module.</p>

<p><i>xp_comm_proj/dlgtools/write/wr_macs.v</i> contains the V definitions of the WriteDlgUI UI macro, the WriteDlgFunc functional macro and the write_dlg user macro.</p>
</blockquote>


<h3>Other Notes</h3>

<blockquote>
<p>The low-level module implementation makes use of a set of header definitions and utilities to aid further module development.  These are contained in the <tt>dlg.h</tt> and <tt>gen_proc.h</tt> header files.  Part of this module implementation is support for the <tt>XP_DEBUG</tt> environment variable.  Setting the <tt>XP_DEBUG</tt> to 1 will cause the module to report a great dealing of debugging information.</p>

<p>The low-level WriteDlgMods library containing the low-level module WriteDlgCore does not specify a process. By default the <tt>express</tt> process will be used.</p>
</blockquote>


<h3>Author</h3>

<blockquote>
<pre>anonymous</pre>
</blockquote>

<h3>Modifications</h3>

<blockquote>
<pre>
Jens Lorenz,
Manchester Visualization Centre

Andrew Dodd,
International AVS Centre
</pre>
</blockquote>

<h3>See Also</h3>

<ul>
<li><a href="rd_dlg.html">read_dlg</a> user macro.</li>
<li><a href="outl_dlg.html">outline_dlg</a> user macro.</li>
<li><a href="http://edcwww.cr.usgs.gov/nsdi/gendlg.htm">DLG</a> information at the USGS Geospatial Data Clearinghouse.</li>
<li><a href="http://rockyweb.cr.usgs.gov/nmpstds/dlgstds.html">Digital Line Graph</a> standard.</li>
</ul>

</body>
</html>

