<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.5 [en] (Win98; I) [Netscape]">
   <meta name="Author" content="Ian Curington">
   <title>write_field - writes AVS .fld files</title>
</head>
<body bgcolor="#92BFBF">

<h1>
<b>write_field</b></h1>

<h3>Synopsis</h3>


<blockquote>
Writes an AVS/Express field containing uniform/rectilinear/structured field data to an AVS5 "Field" file (*.fld), suitable for reading with the "read field" module.
</blockquote>

<blockquote>
<h4>Input Ports</h4>

<table summary="Input Ports used by write_field">

<tr>
<td width="100"><font size="-1"><b>Name</b></font></td>
<td width="75"><font size="-1"><b>Type</b></font></td>
<td width="425"><font size="-1"><b>Description</b></font></td>
</tr>

<tr>
<td colspan="4"><hr></td>
</tr>

<tr>
<td width="100"><i>in_field</i></td>
<td width="75">Field</td>
<td width="425">uniform, rectilinear, or structured field</td>
</tr>

<tr>
<td colspan="4"><hr></td>
</tr>

</table>


<h4>Parameters</h4>

<table summary="Parameters used by write_field">

<tr>
<td width="100"><font size="-1"><b>Name</b></font></td>
<td width="75"><font size="-1"><b>Type</b></font></td>
<td width="300"><font size="-1"><b>Description</b></font></td>
<td width="125"><font size="-1"><b>UI Control</b></font></td>
</tr>
<tr>
<td colspan="4"><hr></td>
</tr>

<tr>
<td width="100"><i>filename</i></td>
<td width="75">string</td>
<td width="300">name of the file to write.</td>
<td width="125">UIfileDialog</td>
</tr>

<tr>
<td width="100"><i>trigger</i></td>
<td width="75">int</td>
<td width="300">triggers writing of file.</td>
<td width="125">Save UIbutton</td>
</tr>

<tr>
<td colspan="4"><hr></td>
</tr>
</table>

</blockquote>



<h3>Description</h3>

<blockquote>
<p>
This module accepts an AVS/Express field and then creates a binary output file in the AVS5 "field" file format (*.fld). The AVS5 "field" file consists of an ASCII header and either the data itself or the filename of a separate data file.  The write_field module writes the field data to the field file itself in binary format. The module was designed to allow either the AVS5 or AVS/Express "read_field" modules to access the resulting file.
</p>
<p>
This module only writes a subset of the .fld format. The module is not able to write out time dependent data.  The .fld format does not allow represntation of all possible AVS/Express fields. All node data components must have the same data type and must have a veclen of one.
</p>
<p>
The binary data is written out in machine-dependent format. If this module is run on a little-endian machine (PC, Linux, Alpha), the resulting .fld file will not be readable on a big-endian machine (Sun, HP, SGI, IBM).  In the special case of a Uniform field with byte data and default coordinate information, the resulting .fld files are portable.  2D images, 3D image volumes, or other 3D voxel data are common examples of fields that fit this special case.
</p>
</blockquote>


<h3>Inputs</h3>

<blockquote>
<p><b><i>in_field</i></b></p>

<p>Reference to the input field that should be written.</p>
</blockquote>


<h3>Parameters</h3>

<blockquote>
<p><i><b>filename</b></i></p>

<p>This string value is used to specify the file that the field data should be written to.</p>
</blockquote>

<blockquote>
<p><i><b>trigger</b></i></p>

<p>This integer value is used to trigger the writing of the field file.  The field file will not be written until this parameter is updated.  Normally this parameter will be connected to a button displayed within the user interface.</p>
</blockquote>


<h3>Outputs</h3>

<blockquote>
<b><i>(none)</i></b>
</blockquote>


<h3>Utility Macros</h3>

<blockquote>
The User Macro write_field combines the low-level module WriteFldCore with the
UI Macro WriteFldUI.
</blockquote>


<h3>Example</h3>

<blockquote>
Two example applications are provided, WriteFldEg and ReadFldEg. The WriteFldEg application demonstrates how slices from the Hydrogen data-set can be written to field files.  ReadFldEg is a very simple application that allows those fields to be quickly read back into AVS/Express and shown to be correct.
</blockquote>


<h3>Files</h3>

<blockquote><i>xp_comm_proj/wr_fld/wfldmods.v</i> contains the V definition of the WriteFldCore module.</blockquote>

<blockquote><i>xp_comm_proj/wr_fld/wfldmacs.v</i> contains the V definitions of the WriteFldUI UI macro, the write_field user macro and the example applications.
</blockquote>


<h3>Other Notes</h3>

<blockquote>
The low-level WriteFldMods library containing the module WriteFldCore does not specify a process. By default the <tt>express</tt> process will be used.
</blockquote>


<h3>Author</h3>

<blockquote>
<pre>
David Goughnour,
Sudhir Sangappa
Advanced Visual Systems, Inc.

<a href="mailto:sudhir@avs.com">sudhir@avs.com</a>
</pre>
</blockquote>


<h3>See Also</h3>

<blockquote>
AVS Read_Field module
</blockquote>

</body>
</html>

