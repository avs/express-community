<!DOCTYPE html PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
<title>CombineCoordinateIndex</title>
</head>

<body bgcolor="#92BFBF">
<h1>CombineCoordinateIndex</h1>

<h3>Synopsis</h3>

<blockquote>
This module combines the Coordinates given as (x,y[,z]) and the dimensions of the field to calculate the index of the point in the data array.
</blockquote>

<blockquote>
<h4>Inputs</h4>
<table summary="Inputs used by CombineCoordinateIndex">
<tr>
<td width="100"><b><font size="-1">Name</font></b></td>
<td width="200"><b><font size="-1">Type</font></b></td>
<td width="425"><b><font size="-1">Description</font></b></td>
</tr>

<tr>
<td colspan="3"><hr></td>
</tr>

<tr>
<td width="100"><i>in_fld</i></td>
<td width="200">Mesh</td>
<td width="425">field that defines the dimensions</td>
</tr>

<tr>
<td colspan="3"><hr></td>
</tr>

</table>
</blockquote>
<blockquote>
<h4>Parameters</h4>

<h5>ReadTecplotParams</h5>

<table summary="Parameters used by CombineCoordinateIndex">
<tr>
<td width="100"><b><font size="-1">Name</font></b></td>
<td width="200"><b><font size="-1">Type</font></b></td>
<td width="300"><b><font size="-1">Description</font></b></td>
<td width="125"><b><font size="-1">UI Control</font></b></td>
</tr>

<tr>
<td colspan="4"><hr></td>
</tr>

<tr>
<td width="100"><i>x_index</i></td>
<td width="200">int</td>
<td width="300">x_coordinate of Point.</td>
<td width="125">Slider</td>
</tr>

<tr>
<td width="100"><i>y_index</i></td>
<td width="200">int</td>
<td width="300">y_coordinate of Point.</td>
<td width="125">Slider</td>
</tr>

<tr>
<td width="100"><i>z_index</i></td>
<td width="200">int</td>
<td width="300">z_coordinate of Point.</td>
<td width="125">Slider</td>
</tr>

<tr>
<td width="100"><i>dims[]</i></td>
<td width="200">int[]</td>
<td width="300">dimensions of the field</td>
<td width="125">(none)</td>
</tr>

<tr>
<td colspan="4"><hr></td>
</tr>

</table>


<h4>Output Ports</h4>

<table summary="Output Ports used by CombineCoordinateIndex">
<tr>
<td width="100"><b><font size="-1">Name</font></b></td>
<td width="200"><b><font size="-1">Type</font></b></td>
<td width="425"><b><font size="-1">Description</font></b></td>
</tr>

<tr>
<td colspan="3"><hr></td>
</tr>

<tr>
<td width="100"><i>out</i></td>
<td width="200">int</td>
<td width="425">Index of the point in 3D </td>
</tr>

<tr>
<td colspan="3"><hr></td>
</tr>

</table>
</blockquote>


<h3>Description</h3>

<blockquote>
The module calculates the array index of a point in 2D/3D space. This index can be used to access the data values of the particular point. The data of each point is stored as NodeData in a linear array of values. 

The CombineCoordinateIndex module generates the index for a point using the dimensions of the field the point is part of and the points coordinates. 

The user_macro provides a simple user interface that allows the selection of
the point in the field using sliders.
</blockquote>

<h3>Parameters</h3>

<h4>Inputs</h4>

<blockquote><b><i>in_fld</i></b></blockquote>
<blockquote>An AVS field structure. The only part of this structure which is used is the dims[] entry. This defines the dimensions of the field in which the point is located to linearize the coordinates.</blockquote>

<blockquote><b><i>x_index</i></b></blockquote>
<blockquote>x-Coordinate of the point.</blockquote>

<blockquote><b><i>y_index</i></b></blockquote>
<blockquote>y-Coordinate of the point.</blockquote>

<blockquote><b><i>z_index</i></b></blockquote>
<blockquote>z-Coordinate of the point. (3D)</blockquote>

<h4>Outputs</h4>

<blockquote><b><i>out</i></b></blockquote>
<blockquote>The linearized index for the point in the 2D/3D field</blockquote>


<h3>Example</h3>

<blockquote>
The module calculates the array index of a point in a field. This can be used 
if one wants to access the data value of the point (32,24,45) in a 64x32x50 
data volume. This module calulates from the coordinates (32,24,45) and the dimensions array {64,32,50} the linar index 93728. This linear index is the 
index of the data values for the given point in the NodeData-arrays.

</blockquote>


<h3>Files</h3>

<blockquote>
<p><i>xp_comm_proj/combidx/combidx.v</i> defines the library</p> 
<p><i>xp_comm_proj/combidx/cidxmods.v</i> module definition</p>
<p><i>xp_comm_proj/combidx/cidxmacs.v</i> macro definition</p>
</blockquote>


<h3>Author</h3>

<blockquote><pre>
<a style="text-decoration:none" href="mailto:Tobias.Schiebeck@man.ac.uk">Tobias Schiebeck</A>,
International AVS Centre
</pre></blockquote>

</body>
</html>
