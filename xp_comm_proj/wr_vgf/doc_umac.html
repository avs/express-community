<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.5 [en] (Win98; I) [Netscape]">
   <title>writeVGF, writeVGF_GD, writeVGF_ARR</title>
</head>
<body bgcolor="#92BFBF">

<h1>writeVGF, writeVGF_GD, writeVGF_ARR</h1>

<h3>Synopsis</h3>

<blockquote>
Writes the contents of a field, a Graphic Display object (red renderable
port) or a group of Graphic Display objects to a dVision VGF format file.
</blockquote>


<blockquote>
<h4>Input Ports</h4>

<table>
<tr>
<td width="75"><font size="-1"><b>User Macro</b></font></td>
<td width="100"><font size="-1"><b>Name</b></font></td>
<td width="75"><font size="-1"><b>Type</b></font></td>
<td width="425"><font size="-1"><b>Description</b></font></td>
</tr>

<tr>
<td colspan="4"><hr></td>
</tr>

<tr>
<td width="75">writeVGF</td>
<td width="100"><i>in_fld</i></td>
<td width="75">Mesh+Node_Data</td>
<td width="425">single set of field data</td>
</tr>

<tr>
<td width="75">writeVGF_GD</td>
<td width="100"><i>obj</i></td>
<td width="75">GD Object</td>
<td width="425">single Graphic Display Object</td>
</tr>

<tr>
<td width="75">writeVGF_ARR</td>
<td width="100"><i>top_obj</i></td>
<td width="75">GroupObject</td>
<td width="425">group of Graphic Display Objects</td>
</tr>

<tr>
<td colspan="4"><hr></td>
</tr>

</table>

</blockquote>


<h3>Description</h3>

<blockquote>
These user macros all write data to dVision VGF format files.  The exact purpose of each of these three macros is described below:
</blockquote>

<ul>
<li>
<b><i>writeVGF:</i></b> This macro writes a single set of field data to a VGF file. Both of the other user macros are derieved from this macro.
</li>
<li>
<b><i>writeVGF_GD:</i></b> This macro writes a single Graphic Display object (red renderable port) to a VGF file.
</li>
<li>
<b><i>writeVGF_ARR:</i></b> This macro writes a GroupObject (red renderable port) to a VGF file. GroupObjects are generated by the ARR library modules and represent an array of separate fields. They are written to the VGF file as separate GEOGROUPs.
</li>
</ul>

<blockquote>
These macros parse the appropriate input and then create an ASCII VGF output
file containing the Cell_Sets of 2D elements such as triangles, quads,
lines, polylines and polytristrips. The module takes cell mesh topology
from the input field structure, and writes them out to a file in
ASCII VGF file format.
</blockquote>
<blockquote>
This format is part of the dVision dVise virtual reality system, which
can store 3D geometric objects in the scene in this format. It is
able to pass normals through if they exist on the input mesh, colors, and
scalar numerical values at nodes using UV texture coordinates.
</blockquote>
<blockquote>
The cell-set hierarchy is preserved in the file format.
</blockquote>


<h3>Inputs</h3>

<blockquote>
Note that each of the user macros has a different input port.
</blockquote>

<blockquote>
<b><i>in_fld</i></b> - <i>writeVGF</i>
</blockquote>

<blockquote>
Reference to a set of field data that should be written to the VGF file.  The field data should consist of Mesh and Node Data.
</blockquote>

<blockquote>
<b><i>obj</i></b> - <i>writeVGF_GD</i>
</blockquote>

<blockquote>
Reference to a Graphic Display object (red renderable port) that should be written to the VGF file.  The field data to be written is extracted from the supplied Graphic Display object.
</blockquote>

<blockquote>
<b><i>top_obj</i></b> - <i>writeVGF_ARR</i>
</blockquote>

<blockquote>
Reference to a GroupObject (red renderable port) that should be written to the VGF file.  The GroupObject should contain a number of child Graphic Display objects.  These are output as GEOGROUP blocks in the VGF file.  GroupObjects are generated by ARR library modules.
</blockquote>


<h3>Outputs</h3>

<blockquote>
<b><i>(none)</i></b>
</blockquote>


<h3>Utility Modules</h3>

<blockquote>
The User Macro writeVGF uses the low-level module WriteVGFCore and the UI macro WriteVGF_UI.  As both of the other User Macros are derived from the writeVGF macro they also make use of these components.
</blockquote>


<h3>Example</h3>

<blockquote>
Two example applications are provided. WriteVGFEg demonstrates the use of the writeVGF macro by generating an isosurface and writing that isosurface to a file. WriteVGF_ARR_Eg demonstrates the use of the writeVGF_ARR macro by loading a multiblock set of data and generating a series of visualizations. The isosurface can then be written to a file. If the resultant file is examined then it is apparent that the isosurface is written out in several chunks, one per block of data.
</blockquote>


<h3>Files</h3>

<blockquote>
<i>xp_comm_proj/wr_vgf/wvgfmacs.v</i> contains the V definitions of the writeVGF, writeVGF_GD and writeVGF_ARR User Macros, the WriteVGF_UI UI Macro, and the example applications WriteVGFEg and WriteVGF_ARR_Eg.
</blockquote>


<h3>Other Notes</h3>

<blockquote>
The WriteVGFMacs library inherits its process. As this library contains
no procedural code, the process is not important.
</blockquote>


<h3>Author</h3>

<pre>
Ian Curington
Advanced Visual Systems, Ltd.
Hanworth Lane, Chertsey Surrey, UK
KT16 9JX
</pre>

<pre><a HREF="mailto:ianc@avs.com">ianc@avs.com</a></pre>


<h3>See Also</h3>

<blockquote>
WriteVGFCore, WriteVGF_UI, WriteVGFEg, WriteVGF_ARR_Eg, Write STL
</blockquote>

</body>
</html>
