<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.5 [en] (Win98; I) [Netscape]">
   <meta name="Author" content="Ian Curington">
   <title>ReadVtk - Reads VTK format triangle geometry files</title>
</head>
<body bgcolor="#92BFBF">

<h1>ReadVtk</h1>

<h3>Synopsis</h3>

<blockquote>Reads a VTK generated triangle geometry file into an AVS/Express
Mesh.</blockquote>

<blockquote>

<h4>Parameters</h4>

<table summary="Parameters used by read_vtk">

<tr>
<td width="100"><font size="-1"><b>Name</b></font></td>
<td width="75"><font size="-1"><b>Type</b></font></td>
<td width="300"><font size="-1"><b>Description</b></font></td>
<td width="125"><font size="-1"><b>UI Control</b></font></td>
</tr>
<tr>
<td colspan="4"><hr></td>
</tr>

<tr>
<td width="100"><i>filename</i></td>
<td width="75">string</td>
<td width="300">Name of VTK triangle file to be read.</td>
<td width="125">File Browser</td>
</tr>

<tr>
<td colspan="4"><hr></td>
</tr>
</table>

<h4>Output Ports</h4>

<table summary="Output Ports used by read_vtk">

<tr>
<td width="100"><font size="-1"><b>Name</b></font></td>
<td width="75"><font size="-1"><b>Type</b></font></td>
<td width="425"><font size="-1"><b>Description</b></font></td>
</tr>

<tr>
<td colspan="4"><hr></td>
</tr>

<tr>
<td width="100"><i>out_mesh</i></td>
<td width="75">Mesh</td>
<td width="425">Mesh data constructed from read Geometry.</td>
</tr>

<tr>
<td width="100"><i>out_obj</i></td>
<td width="75">GDobject</td>
<td width="425">Directly renderable output object.</td>
</tr>

<tr>
<td width="100"><i>out_fld</i></td>
<td width="75">Field</td>
<td width="425">Mesh data combined with appropriate node data.</td>
</tr>

<tr>
<td colspan="4"><hr></td>
</tr>

</table>
</blockquote>


<h3>
Description</h3>

<blockquote>
<p>The read_vtk user macro is designed to be a simple interface between the VTK triangle file storage format and the AVS/Express triangle mesh structure. It reads the contents of the file and creates a triangle cell set as output. The internal low-level module, ReadVtkCore, is implemented in C++. The module is designed to only read a subset of the VTK file format, specifically files very similar to:</p>

<pre>
# vtk DataFile Version 2.0
ASCII
DATASET POLYDATA
POINTS 9 float
 -1.0     -1.0      0.0
  1.0     -1.0      0.0
  1.0      1.0      0.0
 -1.0      1.0      0.0
  1.0      1.0      0.0
  1.0      3.0      0.0
 -1.0      3.0      0.0
  1.0      3.0      0.0
  1.0      5.0      0.0
POLYGONS 3 12
3 0 1 2
3 3 4 5
3 6 7 8
</pre>

<p><a name="ReadNodeData">The VTK file format is a generalised format that is able to store many different types of data.  This includes node and cell data.  This project does not contain the functionality necessary to read these other forms data from VTK files.  However it should be possible to modify the low-level module code to read whatever data is required from your VTK files.  To allow this data to be easily used the functionality necessary to merge node data with the read mesh data has been built into the Read_VTK functional macro.  Currently the macro uses an array of automatically generated byte data to build node data.  This array is called <tt>node_data_values</tt>.  In a real application this array could easily be replaced by real node data read from the VTK file.</a></p>

</blockquote>


<h3>
Inputs</h3>

<blockquote><b><i>filename</i></b></blockquote>

<blockquote>Name of the VTK triangle geometry file to be loaded. The parameter is of type string. The User Interface provided by the user macro contains a file browser so that this parameter can be easily changed.</blockquote>

<h3>Outputs</h3>

<blockquote><b><i>out_mesh</i></b></blockquote>

<blockquote>The output mesh containing nodes and triangle cells constructed from the data present in the VTK file.  This output only contains geometry, it does not contain any node or cell data.</blockquote>

<blockquote><b><i>out_obj</i></b></blockquote>

<blockquote>The GDobject version of the output, suitable for direct connection to the viewer.</blockquote>

<blockquote><b><i>out_fld</i></b></blockquote>

<blockquote>A placeholder for field data generated by the macro.  Currently the read_vtk macro outputs automatically generated node data.  This data is unlikely to be useful.  However it is possible to modify the read_vtk macro to output real data through this port.  Please see <a href="#ReadNodeData">above</a> for further details.</blockquote>



<h3>Utility Macros</h3>

<blockquote>The low-level module, ReadVtkCore is used by the functional macro Read_VTK.  This functional macro and the User Interface Macro, Read_VTK_UI are both used by the user macro, read_vtk.  This project does not use a separate parameter block.</blockquote>


<h3>Example</h3>

<blockquote>The example application, ReadVtkEg, is provided.  This application demonstrates how the read_vtk macro can be used to read a geometric representation of the inner ear.  It also demonstrates how the field and mesh outputs can be visualised.  Note that the rainbow effect on the viewed image is a result of the automatically generated node data.  It is not part of the original data.
</blockquote>


<h3>Files</h3>

<blockquote>
<p><i>xp_comm_proj/rd_vtk/rvtkmods.v</i> contains the V definition of the ReadVtkCore module.</p>

<p><i>xp_comm_proj/rd_vtk/rvtkmacs.v</i> contains the V definitions of the Read_VTK_UI UI macro, the Read_VTK functional macro, the read_vtk user macro and the ReadVtkEg example application.</p>
</blockquote>


<h3>Other Notes</h3>

<blockquote>
<p>The low-level ReadVtkMods library containing the module ReadVtkCore
does not specify a process. By default the <tt>express</tt> process will
be used.</p>
</blockquote>


<h3>Authors</h3>

<blockquote>
<pre>
Dave Goughnour, Ian Curington, Advanced Visual Systems, Inc.

Andrew Dodd, International AVS Centre
</pre>
</blockquote>


<h3>See Also</h3>

<blockquote>
n/a
</blockquote>

</body>
</html>

