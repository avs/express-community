<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.5 [en] (Win98; I) [Netscape]">
   <meta name="Author" content="Ian Curington">
   <title>plane_project &amp; plane_project_ARR</title>
</head>
<body bgcolor="#92BFBF">

<h1>plane_project &amp; plane_project_ARR</h1>

<h3>Synopsis</h3>

<blockquote>A mapper module that slices an unstructured or irregular 3D model with a plane, producing a secondary 2D slice projected flat down the normal of the slice plane, for projection into secondary 2D view window.</blockquote>


<blockquote>
<h4>Input Ports</h4>

<table summary="Input Ports used by plane_project &amp; plane_project_ARR">

<tr>
<td width="100"><font size="-1"><b>Name</b></font></td>
<td width="75"><font size="-1"><b>Type</b></font></td>
<td width="425"><font size="-1"><b>Description</b></font></td>
</tr>

<tr>
<td colspan="4"><hr></td>
</tr>

<tr>
<td width="100"><i>in_field</i></td>
<td width="75">Field</td>
<td width="425">Data to be sliced and projected by module.</td>
</tr>

<tr>
<td colspan="4"><hr></td>
</tr>

</table>


<h4>Parameters</h4>

<p>These macros use the same parameters as the standard AVS <tt>slice_plane</tt> module.</p>


<h4>Output Ports</h4>

<table summary="Output Ports used by plane_project &amp; plane_project_ARR">

<tr>
<td width="100"><font size="-1"><b>Name</b></font></td>
<td width="75"><font size="-1"><b>Type</b></font></td>
<td width="425"><font size="-1"><b>Description</b></font></td>
</tr>

<tr>
<td colspan="4"><hr></td>
</tr>

<tr>
<td width="100"><i>out_fld</i></td>
<td width="75">Field</td>
<td width="425">3D data slice.</td>
</tr>

<tr>
<td width="100"><i>out_plane</i></td>
<td width="75">Mesh</td>
<td width="425">plane used to generate data slice.</td>
</tr>

<tr>
<td width="100"><i>out_obj_slice</i></td>
<td width="75">GDobject</td>
<td width="425">directly renderable slice object.</td>
</tr>

<tr>
<td width="100"><i>out_obj_plane</i></td>
<td width="75">GDobject</td>
<td width="425">directly renderable plane object.</td>
</tr>

<tr>
<td width="100"><i>out_obj_2d</i></td>
<td width="75">GDobject</td>
<td width="425">secondary 2D slice projection.</td>
</tr>

<tr>
<td colspan="4"><hr></td>
</tr>

</table>
</blockquote>



<h3>Description</h3>

<blockquote>
<p><tt>plane_project</tt> and <tt>plane_project_ARR</tt> are mapper macros that slice a 3D model and return both slices as both a 3D slice from the original model and a 2D plane projected flat along the normal of the slice plane.  This 2D plane can be used for projection into an ancillary 2D view.  The <tt>plane_project</tt> and <tt>plane_project_ARR</tt> macros functionally very similar except that the <tt>plane_project_ARR</tt> macro operates on arrays of field data.  Except where noted all information applies equally to both macros.  Please see the AVS/Express documentation for more information on working with arrays of fields.</p>

<p>These user macros are variations on the standard slice_plane module, which slices a 3D model by using a simple plane tool.  The macros extend this basic functionality by generating a transformed version of the slice plane with Z=0.  This 2D slice plane is output as a DataObject that can be directly displayed in a 2D viewer.  Hence provided a useful ancillary 2D view of the main visualization.</p>

<p>As well as the C code in low-level module implementation this project also makes use of several other low-level DV modules and base classes.  Unfortunately because of this the project can only be used with the AVS/Express Developer's edition.</p>
</blockquote>


<h3>Inputs</h3>

<blockquote><b><i>in_field</i></b></blockquote>

<blockquote>
Input data that is to be sliced by the module.  The <tt>plane_project</tt> macro takes a single field as input whilst the the <tt>plane_project_ARR</tt> macro takes an array of fields as input.  Each field of input data should consist of a 2D or 3D mesh.  This mesh can have any structure.  Optionally the data can also contain node data or cell data.
</blockquote>


<h3>Parameters</h3>

<blockquote>
The parameters used by these macros are the same as those used by the <tt>slice_plane</tt> module.  Please refer to the AVS/Express documentation for parameter and user interface information.
</blockquote>


<h3>Outputs</h3>

<blockquote><b><i>out_fld</i></b></blockquote>

<blockquote>
Output data representing the slice generated by the macro.  The <tt>plane_project</tt> macro outputs a single field whilst the the <tt>plane_project_ARR</tt> macro outputs an array of fields.  Each output field will consist of a new mesh representing the slice of data. If node data or cell data is present on the input the output will also contain new data sets.
</blockquote>

<blockquote><b><i>out_plane</i></b></blockquote>

<blockquote>
A 2d mesh that represents the plane used to slice the input data. 
</blockquote>

<blockquote><b><i>out_obj_slice</i></b></blockquote>

<blockquote>
Directly renderable output object generated from the out_fld output that represents the new slice of data.
</blockquote>

<blockquote><b><i>out_obj_plane</i></b></blockquote>

<blockquote>
Directly renderable output object generated from the out_plane output that represents the plane used slice the input data.  If this object is connected to a viewer and transformed, the transforms made will be reflected in the slices taken of the input data. 
</blockquote>

<blockquote><b><i>out_obj_2d</i></b></blockquote>

<blockquote>
Directly renderable output object containing a 2d version of the data slice.  This is generated by projecting the 3D slice flat along the normal of the slice plane.  No field output is provided for this data as the 2d slice is only intended to be used to display an ancillary 2D view.
</blockquote>


<h3>Utility Modules</h3>

<blockquote>The low-level <tt>plane_proj</tt> module is used in the <tt>plane_proj2</tt> functional macro.  This macro is in turned used by the user macros <tt>plane_project</tt> and <tt>plane_project_ARR</tt>.  These user macros also use the <tt>PlaneProjectUI</tt> user interface macro.</blockquote>


<h3>Example</h3>

<blockquote>Two example applications are provided with this project.  PlaneProjectEg demonstrates the use of the standard user macro by reading in a set of data and using the plane_project macro to slice the data and generate a 2D projection of that slice.  PlaneProjectArrEg demonstrates the use of the array based user macro in a similar way.</blockquote>


<h3>Files</h3>

<blockquote>
<p><i>xp_comm_proj/planep/plp_macs.v</i> contains the V definitions of the PlaneProjectUI UI macro, the plane_project and plane_project_ARR user macros and the PlaneProjectEg and PlaneProjectArrEg example applications.</p>
</blockquote>


<h3>Prerequisites</h3>

<blockquote>This project relies on the successful installation of
the following components. Without them it will not function
correctly.</blockquote>

<ul>
<li>AVS/Express Developer's Edition</li>
</ul>


<h3>Other Notes</h3>

<blockquote>
<p>The user macros provided with this project are derived from the standard AVS module "Slice Plane".  These macros are based on the same underlying system, but substitute the slice plane processing module and adds a new 2D output port.  Please refer to the documentation for that module for further information on the use of the macros.</p>

<p>The PlaneProjectMacs library inherits its process. As this library contains no procedural code, the process is not important. The low-level plane_proj module, executes under the process specified in its library, not the process defined in the high-level library.</p>
</blockquote>


<h3>Author</h3>

<blockquote>
<pre>Ian Curington
Advanced Visual Systems, Ltd.
Hanworth Lane, Chertsey Surrey, UK
KT16 9JX

ianc@avs.com</pre>
</blockquote>


<h3>Modifications</h3>

<blockquote>
<pre>Andrew Dodd
International AVS Centre
</pre>
</blockquote>


<h3>See Also</h3>

<blockquote>Standard AVS slice_plane module</blockquote>

</body>
</html>

