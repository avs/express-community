<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.5 [en] (Win98; I) [Netscape]">
   <meta name="Author" content="Ian Curington">
   <title>ellipse</title>
</head>
<body bgcolor="#92BFBF">

<h1>ellipse</h1>

<h3>Synopsis</h3>

<blockquote>
Generates a set of 3D ellipse objects, with both polyline ellipse edges and a surface linking the ellipses together.
</blockquote>

<blockquote>

<h4>EllipseParams Parameters</h4>

<table summary="Parameters used by ellipse from EllipseParams">

<tr>
<td width="100"><font size="-1"><b>Name</b></font></td>
<td width="75"><font size="-1"><b>Type</b></font></td>
<td width="300"><font size="-1"><b>Description</b></font></td>
<td width="125"><font size="-1"><b>UI Control</b></font></td>
</tr>
<tr>
<td colspan="4"><hr></td>
</tr>

<tr>
<td width="100"><i>num_ellipses</i></td>
<td width="75">int</td>
<td width="300">number of ellipses</td>
<td width="125">UIslider</td>
</tr>

<tr>
<td width="100"><i>num_points</i></td>
<td width="75">int</td>
<td width="300">number of points per ellipse</td>
<td width="125">UIslider</td>
</tr>

<tr>
<td width="100"><i>aboutxc</i></td>
<td width="75">float</td>
<td width="300">x-coord of stack centre</td>
<td width="125">-</td>
</tr>

<tr>
<td width="100"><i>aboutyc</i></td>
<td width="75">float</td>
<td width="300">y-coord of stack centre</td>
<td width="125">-</td>
</tr>

<tr>
<td colspan="4"><hr></td>
</tr>
</table>

<h4>RandomNumParams Parameters</h4>

<table summary="Parameters used by ellipse from RandomNumParams">

<tr>
<td width="100"><font size="-1"><b>Name</b></font></td>
<td width="75"><font size="-1"><b>Type</b></font></td>
<td width="300"><font size="-1"><b>Description</b></font></td>
<td width="125"><font size="-1"><b>UI Control</b></font></td>
</tr>
<tr>
<td colspan="4"><hr></td>
</tr>

<tr>
<td width="100"><i>min_val</i></td>
<td width="75">float</td>
<td width="300">minimum ellipse radius</td>
<td width="125">UIslider</td>
</tr>

<tr>
<td width="100"><i>max_val</i></td>
<td width="75">float</td>
<td width="300">maximum ellipse radius</td>
<td width="125">UIslider</td>
</tr>

<tr>
<td colspan="4"><hr></td>
</tr>
</table>


<h4>Output Ports</h4>

<table summary="Output Ports used by ellipse">

<tr>
<td width="100"><font size="-1"><b>Name</b></font></td>
<td width="80"><font size="-1"><b>Type</b></font></td>
<td width="425"><font size="-1"><b>Description</b></font></td>
</tr>
<tr>
<td colspan="4"><hr></td>
</tr>

<tr>
<td width="100"><i>out_polyline_mesh</i></td>
<td width="80">Mesh</td>
<td width="425">ellipse edge mesh</td>
</tr>

<tr>
<td width="100"><i>out_quad_mesh</i></td>
<td width="80">Mesh</td>
<td width="425">ellipse connections mesh</td>
</tr>

<tr>
<td width="100"><i>out_obj</i></td>
<td width="80">GroupObject</td>
<td width="425">directly renderable output object</td>
</tr>

<tr>
<td colspan="4"><hr></td>
</tr>

</table>
</blockquote>


<h3>Description</h3>

<blockquote>
The ellipse user macro generates a series of randomly sized and shaped ellipses connected by a surface into a tube like structure. Each ellipse is created in the X-Y plane and offset a fixed distance from the adjacent ellipses along the Z-axis.  The major and minor axes of the generated ellipses are always aligned with the X and Y axes. The mesh defining the ellipse edges is a polyline mesh.  The connecting surface is a quadrilateral mesh. The actual size and shape of each ellipse is generated by using a sequence of random numbers.  These numbers are generated from a set seed value.  Hence the elliptical tube will have the same shape each time it is used.  Parameters allow control over the number of ellipses, the accuracy of the model, base position for the stack of ellipses and the range of ellipse sizes.
</blockquote>

<blockquote>
The Ellipse project is primarily designed to be an illustration of how geometric objects can be created with the AVS/Express Visualization system.  The technique of using a combination of custom code and Field Mapping modules has many applications. To assist in learning from this code both the V script code and the C++ source code are well documented. Practically this module could be used as the basis of a data visualization method that uses ellipses.  Alternatively the basic method could be used to generate other geometric shapes.
</blockquote>

<blockquote>
The Ellipse project uses the <a href="../common/doc_mod.html#RandomNumCore">RandomNumCore</a> module to generate the required sequence of random numbers.  More information on this module can be found in the Common project <a href="../common/doc_mod.html#RandomNumCore">documentation</a>.
</blockquote>

<h3>Inputs</h3>

<blockquote>
(none)
</blockquote>

<h3>Parameters used from EllipseParams block</h3>

<blockquote>
<i><b>num_ellipses</b></i>
</blockquote>

<blockquote>
A member of the EllipseParams parameter block group, this integer value is used to specify the number of ellipses that should be generated.  The UI slider component sets a maximum of 50 ellipses and a minimum of 2 ellipses.  To generate the connecting surface at least 2 ellipses are required.  If more ellipses are required the parameter can be directly modified.  Depending upon memory usage the macro should be able to generate any number of ellipses.
</blockquote>

<blockquote>
<i><b>num_points</b></i>
</blockquote>

<blockquote>
A member of the EllipseParams parameter block group, this integer value is used to specify the number of points that should be generated per ellipse.  This sets the accuracy of the resulting mesh.  The UI slider component sets a maximum of 60 points and a minimum of 4 points.  To generate a meaningful ellipse at least 4 points must be generated per ellipse.  If higher accuracy is required the parameter can be directly modified.  Depending upon memory usage the macro should be able to generate any number of points.
</blockquote>

<blockquote>
<i><b>aboutxc aboutyc</b></i>
</blockquote>

<blockquote>
Members of the EllipseParams parameter block group, these float values specify the coordinates of the centre point of the stack of ellipses.  They define how far the stack is offset horizontally from the origin.
</blockquote>


<h3>Parameters used from RandomNumParams block</h3>

<blockquote>
Only two of the parameters from this block are directly alterable from the ellipse User macro.  The number of random numbers generated is automatically set to equal the number of ellipses to be generated.  The seed values are set internally within the Functional Macro.  This was done so that different sequences of random numbers could be used for both x and y dimensions.
</blockquote>

<blockquote>
<i><b>min_val max_val</b></i>
</blockquote>

<blockquote>
Members of the RandomNumParams parameter block group, these float values specify the range of random numbers that should be generated.  Therefore they also specify the minimum and maximum possible radii of the generated ellipses.  If the specified minimum value is greater than the maximum value the parameters will be swapped internally.
</blockquote>


<h3>Outputs</h3>

<blockquote>
<i><b>out_polyline_mesh</b></i>
</blockquote>

<blockquote>
Polyline mesh containing the edges of each ellipse.
</blockquote>

<blockquote>
<i><b>out_quad_mesh</b></i>
</blockquote>

<blockquote>
Quadrilateral mesh containing the surface connecting the ellipses.
</blockquote>

<blockquote>
<i><b>out_obj</b></i>
</blockquote>

<blockquote>
The directly renderable output of the ellipse macro. This contains a GroupObject object that can be rendered by the standard data viewers. This GroupObject contains DataObjects representing both the polyline ellipse edges and the quadrilateral surface.  If this object is viewed both of these sets of data will be visible.  If only one of these objects is required to be viewed then a DataObject can be generated from the appropriate mesh output. Alternatively the original DataObjects can be exported from the Ellipse Functional macro.
</blockquote>


<h3>Utility Modules</h3>

<blockquote>
The User Macro ellipse combines the Functional Macro Ellipse with the UI Macro EllipseUI.  The User macro also makes use of the common parameter blocks EllipseParams and RandomNumParams to tie the Functional Macro and UI macro together.  The Functional Macro uses the <a href="../common/doc_mod.html#RandomNumCore">RandomNumCore</a> module from the Common project to generate ellipse coordinate data.
</blockquote>


<h3>Example</h3>

<blockquote>
An example application EllipseEg is provided that uses a set of random data to generate a elliptical tube.  It shows how the size and shape of the ellipse can altered through a User Interface.  The random data is generated using a set seed value hence the same data will be generated each time the example application is used.
</blockquote>


<h3>Files</h3>

<blockquote>
<i>xp_comm_proj/ellipse/ell_macs.v</i> contains the V definitions of the Functional Macro Ellipse, the User macro ellipse, the UI macro EllipseUI and the example application EllipseEg.
</blockquote>


<h3>Prerequisites</h3>

<blockquote>
The Functional and User Interface macros of this project rely on the successful installation of the following components. Without them they will not function correctly.
</blockquote>

<ul>
<li>Common Project</li>
</ul>


<h3>Other Notes</h3>

<blockquote>
The EllipseMacs library inherits its process. As this library contains no procedural code, the process is not important. The modules in the low-level EllipseMods library execute under the process specified in that library, not the process defined in the high-level library.
</blockquote>



<h3>Author</h3>

<blockquote>
<pre>
Steve Larkin
Advanced Visual Systems, Ltd.
Hanworth Lane, Chertsey Surrey, UK
KT16 9JX
</pre>
</blockquote>

<blockquote><pre>
Andrew Dodd
International AVS Centre
</pre></blockquote>


<h3>See Also</h3>

<blockquote>
<a href="doc_mod.html">EllipseCore</a>, 
<a href="../common/doc_mod.html#RandomNumCore">RandomNumCore</a>, Ellipse, EllipseEg, Mesh mappers library
</blockquote>

</body>
</html>

