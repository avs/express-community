<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.5 [en] (Win98; I) [Netscape]">
   <title>write_maya, write_maya_multi, write_maya_GD, write_maya_ARR</title>
</head>
<body bgcolor="#92BFBF">

<h1>write_maya, write_maya_multi, write_maya_GD, write_maya_ARR</h1>

<h3>Synopsis</h3>

<blockquote>
Writes the contents of a field, an array of fields, a Graphic Display object 
(red renderable port) or a group of Graphic Display objects to a Maya OBJ file.
</blockquote>


<blockquote>
<h4>Input Ports</h4>

<table summary="Input Ports used by write_maya, write_maya_multi, write_maya_GD, write_maya_ARR">

<tr>
<td width="75"><font size="-1"><b>User Macro</b></font></td>
<td width="100"><font size="-1"><b>Name</b></font></td>
<td width="75"><font size="-1"><b>Type</b></font></td>
<td width="425"><font size="-1"><b>Description</b></font></td>
</tr>

<tr>
<td colspan="4"><hr></td>
</tr>

<tr>
<td width="75">write_maya</td>
<td width="100"><i>in_fld</i></td>
<td width="75">Field</td>
<td width="425">single set of field data</td>
</tr>

<tr>
<td width="75">write_maya_multi</td>
<td width="100"><i>in_flds[]</i></td>
<td width="75">Field</td>
<td width="425">array of field data</td>
</tr>

<tr>
<td width="75">write_maya_GD</td>
<td width="100"><i>obj</i></td>
<td width="75">GD Object</td>
<td width="425">single Graphic Display Object</td>
</tr>

<tr>
<td width="75">write_maya_ARR</td>
<td width="100"><i>top_obj</i></td>
<td width="75">GroupObject</td>
<td width="425">group of Graphic Display Objects</td>
</tr>

<tr>
<td colspan="4"><hr></td>
</tr>

</table>

</blockquote>


<h3>Description</h3>

<blockquote>
These user macros all write data to Maya OBJ format files.  The exact purpose of 
each of these three macros is described below:
</blockquote>

<ul>
<li>
<b><i>write_maya:</i></b> This macro writes a single set of field data to a Maya 
file. All of the other user macros are derived from this macro.
</li>
<li>
<b><i>write_maya_multi:</i></b> This macro writes an array of field data 
structures to a Maya file. Separate field are delimited by comments in the 
output file.
</li>
<li>
<b><i>write_maya_GD:</i></b> This macro writes a single Graphic Display object 
(red renderable port) to a Maya file.
</li>
<li>
<b><i>write_maya_ARR:</i></b> This macro writes a GroupObject (red renderable 
port) to a Maya file. GroupObjects are generated by the ARR library modules and 
represent an array of separate fields. They are delimited by comments in the 
output file.
</li>
</ul>


<blockquote>
These macros parse the appropriate input and then create an ASCII 
Maya OBJ output file containing the Cell_Sets of certain 3D elements. The 
current implementation outputs triangle, quad, line, polyline and polytristrip 
cell sets. The module takes cell mesh topology from the input field structure 
and writes this data out to the Maya file.
</blockquote>

<blockquote>
The format output is the original Wavefront OBJ file format.  This format can 
store several 3D geometric objects in the scene.  These are separated by comment 
lines. The module is able to pass normals through if they exist on the input 
mesh.  Colors and scalar numerical values at nodes can also be passed through 
using UV texture coordinates.
</blockquote>

<center><a href="http://www.aw.sgi.com">
<img SRC="maya.gif" ALT="Alias/Wavefront Maya logo"></a></center>

<blockquote>
The MAYA system is an advanced animation and visualization system developed by 
Alias/Wavefront. Other packages, such as SoftImage and Lightwave3D can also read 
the Maya OBJ format.  More information about the Maya system can be found on the 
<a href="http://www.aw.sgi.com">Alias/Wavefront</a> web-site. A full description 
of the file format structure with examples, can be found at:
</blockquote>

<blockquote>
<a href="http://cica.cica.indiana.edu/graphics/object_specs/OBJ.format.txt">
http://cica.cica.indiana.edu/graphics/object_specs/OBJ.format.txt</a>
</blockquote>


<h3>Inputs</h3>

<blockquote>
Note that each of the user macros has a different input port.
</blockquote>

<blockquote>
<b><i>in_fld</i></b> - <i>write_maya</i>
</blockquote>

<blockquote>
Reference to a set of field data that should be written to the Maya file.  The 
field data should consist of a Mesh containing a Cell_Set, and Node data.
</blockquote>

<blockquote>
<b><i>in_flds[]</i></b> - <i>write_maya_multi</i>
</blockquote>

<blockquote>
Reference to an array of Fields that should be written to the Maya file.  The 
field data should consist of a Mesh containing a Cell_Set, and Node data.  The 
data in each field is written into the Maya file and separated by comments.
</blockquote>

<blockquote>
<b><i>obj</i></b> - <i>write_maya_GD</i>
</blockquote>

<blockquote>
Reference to a Graphic Display object (red renderable port) that should be 
written to the Maya file.  The field data to be written is extracted from the 
supplied Graphic Display object.
</blockquote>

<blockquote>
<b><i>top_obj</i></b> - <i>write_maya_ARR</i>
</blockquote>

<blockquote>
Reference to a GroupObject (red renderable port) that should be written to the 
Maya file.  The GroupObject should contain a number of child Graphic Display 
objects.  These are separated by comments in the output Maya file. GroupObjects 
are generated by ARR library modules.  They can also be created manually.
</blockquote>


<h3>Outputs</h3>

<blockquote>
<b><i>(none)</i></b>
</blockquote>


<h3>Utility Modules</h3>

<blockquote>
The User Macro write_maya uses the low-level module WriteMayaCore and the UI 
macro WriteMayaUI.  As all of the other User Macros are derived from the 
write_maya macro they also make use of these components.
</blockquote>


<h3>Example</h3>

<blockquote>
Three example applications are provided. WriteMayaEg demonstrates the use of the 
write_maya user macro by generating an isosurface and writing that isosurface to 
a file.  WriteMayaMultiEg demonstrates the use of the write_maya_multi user 
macro by generating several sets of Field data and writing them all to a single 
file.  WriteMayaArrEg demonstrates the use of the write_maya_ARR macro by 
loading a multiblock set of data and generating a series of visualizations. The 
isosurface can then be written to a file. If the resultant file is examined then 
it is apparent that the isosurface is written out in several chunks, one per 
block of data.
</blockquote>

<h3>Files</h3>

<blockquote>
<i>xp_comm_proj/wr_maya/wrmymacs.v</i> contains the V definitions of the write_maya,  
write_maya_multi, write_maya_GD and write_maya_ARR User Macros, the WriteMayaUI 
UI Macro, and the example applications WriteMayaEg, WriteMayaMultiEg and 
WriteMayaArrEg.
</blockquote>


<h3>Other Notes</h3>

<blockquote>
The WriteMayaMacs library inherits its process. As this library contains
no procedural code, the process is not important.
</blockquote>


<h3>Author</h3>

<blockquote>
<pre>
Ian Curington
Advanced Visual Systems, Ltd.
Hanworth Lane, Chertsey Surrey, UK
KT16 9JX

<a HREF="mailto:ianc@avs.com">ianc@avs.com</a>
</pre>
</blockquote>

<h3>See Also</h3>

<blockquote>
<a href="doc_mod.html">WriteMayaCore</a>, WriteMayaUI, WriteMayaEg, 
WriteMayaMultiEg, WriteMayaArrEg, Write VGF, Write STL, Write POV
</blockquote>

</body>
</html>

